<mat-expansion-panel [expanded]="step === 0"
                     (opened)="setStep(0)"
                     hideToggle="true">

  <!-- HEADER -->
  <mat-expansion-panel-header>
    <mat-panel-title>
      {{process.name}}
    </mat-panel-title>
    <mat-panel-description>
      <mat-progress-bar mode="determinate"
                        [value]="progressValue"
                        width="0%"></mat-progress-bar>
      <mat-icon>grade</mat-icon>
    </mat-panel-description>
  </mat-expansion-panel-header>

  <!-- CONTENT -->
  <app-new-story-stepper [subProcess]="process.subProcess" (steperComplete)="completion=true;"></app-new-story-stepper>

  <!-- NAVIGATION BUTTTONS -->
  <mat-action-row *ngIf="completion">
    <button mat-button
            color="warn"
            (click)="prevStep()">Previous</button>
    <button mat-button
            color="primary"
            (click)="nextStep()">End</button>
  </mat-action-row>

</mat-expansion-panel>
